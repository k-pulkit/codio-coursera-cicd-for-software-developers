var O=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var $=O((P,F)=>{(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))x(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&x(p)}).observe(document,{childList:!0,subtree:!0});function l(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function x(n){if(n.ep)return;n.ep=!0;const s=l(n);fetch(n.href,s)}})();require("../public/css/main.css");const T=["+","-","/","*"],g="=",o=".";let t=[],d=!0,m,a,u,c,f;const r=document.querySelector("#result"),y=(e,i,l)=>{if(l==="+")f=parseFloat(e)+parseFloat(i);else if(l==="-")f=parseFloat(e)-parseFloat(i);else if(l==="*")f=parseFloat(e)*parseFloat(i);else if(l==="/")f=parseFloat(e)/parseFloat(i);else return f===r.innerText?f:r.innerText;return Number.isInteger(f)||(f=f.toPrecision(12)),parseFloat(f)};function N(){if(typeof c<"u"){if(t.length>0)if(T.includes(m)){if(r.innerText==="-"){r.innerText=0,d=!0;return}r.innerText="-",d=!1}else r.innerText=-r.innerText,t.length===1?t[0]=r.innerText:t[1]=r.innerText;return}if(r.innerText===""){r.innerText="-",d=!1;return}r.innerText=-r.innerText}function L(e){const i=document.getElementsByClassName("operator"),l=document.getElementById("operation_history");if(m=e,e==="C"){m=null,a=null,u=null,c=null,f=null,l.innerText="",r.innerText="";return}if(e==="±"){N();return}if(!T.includes(e)&&e!==g)if(d)e===o?r.innerText=`0${o}`:r.innerText=e,d=!1;else{if(r.innerText.length===1&&r.innerText==="0"){e===o&&(r.innerText+=e);return}if(r.innerText.includes(o)&&e===o||r.innerText.length===10)return;e===o&&r.innerText==="-"?r.innerText=`-0${o}`:r.innerText+=e}else{if(a!=null&&e===a)return;if(e==="-"&&r.innerText==="0"){r.innerText=e,d=!1,a=e;return}if(T.includes(e)&&r.innerText==="-"||e==="-"&&a==="-"&&l.innerText.includes("="))return;if(T.includes(e)&&(typeof c<"u"&&c!=null?u=c:u=e,e==="*"?c="×":e==="/"?c="÷":c=e,a=e,d=!0),t.length===0)t.push(r.innerText),typeof c<"u"&&c!=null&&(l.innerText=`${r.innerText} ${c}`);else{t.length===1&&(t[1]=r.innerText);let x=r.innerText;if(e===g&&u!=null){f=y(t[0],t[1],u),r.innerText=f,l.innerText.includes("=")||(l.innerText+=` ${t[1]} =`);const[n]=t;x=n,t[0]=f,a=null;const s=l.innerText.split(" ");s[0]=x,l.innerText=s.join(" ")}else u!=null&&(l.innerText=`${x} ${c}`,u=e,t=[],t.push(r.innerText))}y(t[0],t[1],i)}}const h=document.querySelector(".calc");h&&h.addEventListener("click",e=>{e.target.classList.contains("calc__btn")&&L(e.target.innerText)});F.exports={calculate:y}});export default $();
